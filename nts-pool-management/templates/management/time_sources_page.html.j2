{% extends "../layout.html.j2" %}
{% block nav_time_sources %}aria-current="page"{% endblock %}

{% block header %}<h1>Time Sources</h1>{% endblock %}

{% block content %}
<section class="form">
  <h2>Add a time source server</h2>
  <form action="/management/time-sources" method="POST">
    <div class="hostname-port">
    <fieldset class="hostname">
      <label for="hostname">Hostname or IP address</label>
      <input name="hostname" type="text" />
    </fieldset>
    <fieldset class="port">
      <label for="port">Port (optional)</label>
      <input name="port" type="text" />
    </fieldset>
    </div>
    <button type="submit">Add</button>
  </form>
</section>
<section>
  <h2>Time source servers</h2>
  {%- for ts in time_sources %}
    <article class="server-list">
      <form action="/management/time-sources/{{ ts.id }}/update" method="POST">
        <input type="hidden" />
        <dl>
          <dd>Hostname</dd>
          <dt>{{ ts.hostname }}{% if let Some(p) = ts.port %}<span class="port">:{{ p }}</span>{% endif %}</dt>
          <dd>Weight</dd>
          <dt><input type="number" name="weight" value="{{ ts.weight }}" /></dt>
        </dl>
        <button type="submit" class="btn-sm">Save</button>
      </form>
      <form action="/management/time-sources/{{ ts.id }}/delete" method="POST">
        <details class="confirmation-btn">
          <summary></summary>
          <div>
            <p>Are you sure?</p>
            <button type="submit">Yes, delete</button>
          </div>
        </details>
      </form>
    </article>
  {% endfor %}
</section>
{% endblock %}
